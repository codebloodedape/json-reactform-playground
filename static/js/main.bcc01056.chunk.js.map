{"version":3,"sources":["index.js"],"names":["model","addElementModelCustomStyles","overlay","backgroundColor","content","top","left","right","bottom","marginRight","transform","background","App","props","submit","params","console","log","onElementClick","elementName","editJson","elementProps","state","jsonToForm","name","setState","showAddElementModel","onElementDelete","jsonToFormString","JSON","stringify","onAddElementClick","type","required","disabled","onAddElement","reload","isJsonValid","errorMessage","onAddElementClose","onElementNameChange","event","target","value","onElementTypeChange","placeHolder","format","options","onRequiredChange","onDisabledChange","onDefaultValueChange","defaultValue","onPlaceHolderChange","onEditorTextChange","onTextEditorRun","json","parse","e","jsonChangeTimer","className","elementsName","push","title","onClick","stopPropagation","this","placeHolderElement","onChange","renderElementsFromJson","isOpen","contentLabel","onRequestClose","style","renderVisualEditor","classString","getClassNamesForEditPane","renderTextEditor","onSubmit","renderTitle","renderVisualEditorPane","renderTextEditorPane","renderResultPane","Component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.bcc01056.chunk.js","sourcesContent":["import React, { Component } from 'react'\nimport ReactDOM from 'react-dom'\nimport JsonToForm from 'json-reactform';\nimport Modal from 'react-modal';\nimport './index.css'\n\nconst model = {\n  // \"Plan Date\": {\n  //   \"type\": \"date\",\n  //   \"format\": \"dd MMMM yyyy\",\n  //   \"required\": true\n  // },\n  // \"Qty\": {\n  //   \"type\": \"number\",\n  //   \"required\": true\n  // },\n  // \"Item Number\": {\n  //   \"type\": \"select\",\n  //   \"required\": true,\n  //   \"options\": [ //use static json arry to get options\n  //     {\n  //       \"value\": \"1\",\n  //       \"label\": \"item 1\"\n  //     },\n  //     {\n  //       \"value\": \"2\",\n  //       \"label\": \"item 2\"\n  //     }\n  //   ],\n  // },\n  // \"Parts\": {\n  //   \"type\": \"checkbox\",\n  //   \"required\": true,\n  //   \"options\": [ //use static json arry to get options\n  //     {\n  //       \"value\": \"checkbox_item_1\",\n  //       \"label\": \"Checkbox 1\"\n  //     },\n  //     {\n  //       \"value\": \"checkbox_item_2\",\n  //       \"label\": \"Checkbox 2\"\n  //     }\n  //   ],\n  // },\n  // \"Status\": {\n  //   \"type\": \"radio\",\n  //   \"required\": true,\n  //   \"options\": [ //use static json arry to get options\n  //     {\n  //       \"value\": \"completed\",\n  //       \"label\": \"Completed\"\n  //     },\n  //     {\n  //       \"value\": \"not_completed\",\n  //       \"label\": \"Not Completed\"\n  //     }\n  //   ],\n  // },\n  // \"Save\": { // button submit\n  //   \"type\": \"submit\",\n  // }\n}\n\nconst addElementModelCustomStyles = {\n  overlay: {\n    backgroundColor: 'rgba(0, 0, 0, 0.55)',\n  },\n  content: {\n    top: '50%',\n    left: '50%',\n    right: 'auto',\n    bottom: 'auto',\n    marginRight: '-50%',\n    transform: 'translate(-50%, -50%)',\n    background: '#00bba1'\n  }\n};\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      jsonChangeTimer: null,\n      jsonToForm: model,\n      jsonToFormString: JSON.stringify(model, null, 2),\n      isJsonValid: true,\n      errorMessage: '',\n      showAddElementModel: false,\n      editJson: {\n        name: '',\n        elementProps: {\n\n        }\n      },\n      reload: false\n    }\n  }\n\n  submit = (params) => {\n    console.log(params);\n  }\n\n  renderTitle() {\n    return (\n      <h1 className='title'>\n        JSON Reactform Playground\n      </h1>\n    )\n  }\n\n  onElementClick = (elementName) => {\n    let editJson = {}\n    editJson.elementProps = this.state.jsonToForm[elementName]\n    editJson.name = elementName\n    this.setState({\n      editJson: editJson,\n      showAddElementModel: true\n    })\n  }\n\n  onElementDelete = (elementName) => {\n    let jsonToForm = this.state.jsonToForm\n    delete jsonToForm[elementName]\n    this.setState({\n      jsonToForm: jsonToForm,\n      jsonToFormString: JSON.stringify(jsonToForm, null, 2)\n    })\n  }\n\n  renderElementsFromJson() {\n    let elementsName = []\n    for (let elementName in this.state.jsonToForm) {\n      elementsName.push(\n        <div className={'elementName'} title='Edit Element' onClick={() => this.onElementClick(elementName)}>\n          {elementName}\n          <div title='Delete element' onClick={(e) => {\n            this.onElementDelete(elementName)\n            e.stopPropagation()\n          }}\n            className='elementDeleteButton'>x</div>\n        </div>\n      )\n    }\n    return elementsName\n  }\n\n  onAddElementClick = () => {\n\n    this.setState({\n      showAddElementModel: true,\n      editJson: {\n        name: '',\n        elementProps: {\n          type: 'text',\n          required: true,\n          disabled: false\n        }\n      }\n    })\n  }\n\n  onAddElement = () => {\n    let jsonToForm = this.state.jsonToForm\n    jsonToForm[this.state.editJson.name] = this.state.editJson.elementProps\n    this.setState(\n      {\n        reload: true\n      }, () => {\n        this.setState(\n          {\n            showAddElementModel: false,\n            jsonToForm: jsonToForm,\n            jsonToFormString: JSON.stringify(jsonToForm, null, 2),\n            isJsonValid: true,\n            errorMessage: '',\n            reload: false\n          }\n        )\n\n      })\n  }\n\n  onAddElementClose = () => {\n    this.setState({\n      showAddElementModel: false\n    })\n  }\n\n  onElementNameChange = (event) => {\n    let editJson = this.state.editJson\n    editJson.name = event.target.value\n    this.setState({ editJson: editJson })\n  }\n\n  onElementTypeChange = (event) => {\n    let editJson = {\n      name: this.state.editJson.name,\n      elementProps: {\n        type: event.target.value,\n        required: true,\n      }\n    }\n    switch (editJson.elementProps.type) {\n      case 'text':\n      case 'number':\n      case 'textarea':\n        // editJson.defaultValue = ''\n        editJson.elementProps.placeHolder = ''\n        break\n      case 'date':\n        // editJson.defaultValue = new Date()\n        editJson.elementProps.placeHolder = null\n        editJson.elementProps.format = ''\n        break;\n      case 'select':\n        // editJson.defaultValue\n        editJson.elementProps.options = [\n          { 'value': '1', 'label': 'item 1' },\n          { 'value': '2', 'label': 'item 2' }\n        ]\n        break\n      case 'checkbox':\n        editJson.elementProps[\"options\"] = [ //use static json arry to get options\n          {\n            \"value\": \"checkbox_item_1\",\n            \"label\": \"Checkbox 1\"\n          },\n          {\n            \"value\": \"checkbox_item_2\",\n            \"label\": \"Checkbox 2\"\n          }\n        ]\n        break\n      case 'radio':\n        editJson.elementProps.options = [ //use static json arry to get options\n          {\n            \"value\": \"completed\",\n            \"label\": \"Completed\"\n          },\n          {\n            \"value\": \"not_completed\",\n            \"label\": \"Not Completed\"\n          }\n        ]\n        break\n    }\n    this.setState({ editJson: editJson });\n  }\n\n  onRequiredChange = (event) => {\n    let editJson = this.state.editJson\n    editJson.elementProps.required = event.target.value === 'true' ? true : false\n    this.setState({ editJson: editJson });\n\n  }\n\n  onDisabledChange = (event) => {\n    let editJson = this.state.editJson\n    editJson.elementProps.disabled = event.target.value === 'true' ? true : false\n    this.setState({ editJson: editJson })\n  }\n\n  onDefaultValueChange = (event) => {\n    let editJson = this.state.editJson\n    editJson.elementProps.defaultValue = event.target.value\n    this.setState({ editJson: editJson });\n  }\n\n  onPlaceHolderChange = (event) => {\n    let editJson = this.state.editJson\n    editJson.elementProps.placeHolder = event.target.value\n    this.setState({ editJson: editJson });\n\n  }\n\n  renderVisualEditor() {\n    let editJson = this.state.editJson\n\n    let placeHolderElement = editJson.elementProps.placeHolder !== null ? (\n      <label>\n        Place Holder\n        <input type='text' onChange={this.onPlaceHolderChange} value={editJson.elementProps.placeHolder}></input>\n      </label>\n    ) : null\n\n    return (\n      <div>\n        {this.renderElementsFromJson()}\n        <div className=\"elementName\" onClick={this.onAddElementClick}>Add Element</div>\n        <Modal\n          isOpen={this.state.showAddElementModel}\n          contentLabel=\"Minimal Modal Example\"\n\n          onRequestClose={this.onAddElementClose}\n          style={addElementModelCustomStyles}\n        >\n          <div className=\"paneHeader\">\n            <h2>Add / Edit Element</h2>\n          </div>\n          <label>\n            Name\n            <input type='text' onChange={this.onElementNameChange} value={editJson.name}></input>\n          </label>\n          <br />\n          <label>\n            Element Type\n          <select value={editJson.elementProps.type} onChange={this.onElementTypeChange}>\n              <option value=\"text\">Text</option>\n              <option value=\"number\">Number</option>\n              <option value=\"textarea\">Textarea</option>\n              <option value=\"date\">Date</option>\n              <option value=\"select\">Select</option>\n              <option value=\"checkbox\">Checkbox</option>\n              <option value=\"radio\">Radio</option>\n              <option value=\"submit\">Submit</option>\n            </select>\n          </label>\n          <br />\n          <label>\n            Required\n          <select value={editJson.elementProps.required} onChange={this.onRequiredChange}>\n              <option value='true'>True</option>\n              <option value=\"false\">False</option>\n            </select>\n          </label>\n          <br />\n          <label>\n            Disabled\n          <select value={editJson.elementProps.disabled} onChange={this.onDisabledChange}>\n              <option value='true'>True</option>\n              <option value=\"false\">False</option>\n            </select>\n          </label>\n          {/* <label>\n            Default Value\n            <input type='text' onChange={this.onDefaultValueChange} value={editJson.defaultValue}></input>\n          </label> */}\n          <br />\n          {placeHolderElement}\n          <br />\n          <button onClick={this.onAddElement}>Done</button>\n          <button onClick={this.onAddElementClose}>Cancel</button>\n\n        </Modal>\n      </div>\n    )\n  }\n\n  renderVisualEditorPane() {\n    return (\n      <div className=\"pane\">\n        <div className=\"paneHeader\">\n          <h2>Visual Editor</h2>\n        </div>\n        <div className=\"paneContent\">\n          {this.renderVisualEditor()}\n        </div>\n      </div>\n    )\n  }\n\n  getClassNamesForEditPane() {\n    let classString = 'paneContent textEditorPaneContent'\n    if (!this.state.isJsonValid) {\n      classString += ' errorPaneContent'\n    }\n    return classString\n  }\n\n  onEditorTextChange = (event) => {\n    this.setState({\n      jsonToFormString: event.target.value\n    })\n  }\n\n  onTextEditorRun = () => {\n    // if (this.state.jsonChangeTimer) {\n    //   clearTimeout(this.state.jsonChangeTimer)\n    // }\n\n    // let jsonText = jsonToFormString\n\n    // let jsonChangeTimer = setTimeout(() => {\n    let json = {}\n    try {\n      if (this.state.jsonToFormString !== '')\n        json = JSON.parse(this.state.jsonToFormString)\n    }\n    catch (e) {\n      this.setState({ isJsonValid: false, errorMessage: 'JSON is not meaningful!' })\n      return\n    }\n\n    this.setState({\n      jsonToForm: json,\n      errorMessage: '',\n      isJsonValid: true\n    })\n    // }, JSON_CHANGE_DEBOUNCE_TIME);\n\n    // this.setState({\n    //   jsonChangeTimer: jsonChangeTimer\n    // })\n  }\n\n  renderTextEditor() {\n    return <textarea className='textEditor' onChange={this.onEditorTextChange} value={this.state.jsonToFormString} />\n  }\n\n  renderTextEditorPane() {\n    return (\n      <div className=\"pane\">\n        <div className=\"paneHeader\">\n          <div>\n            <h2>Text Editor</h2>\n            <div onClick={this.onTextEditorRun} className='runButton'>Run</div>\n          </div>\n\n          <div className='errorMessage'>{this.state.errorMessage}</div>\n        </div>\n        <div className={this.getClassNamesForEditPane()}>\n          {this.renderTextEditor()}\n        </div>\n      </div>\n    )\n  }\n\n  renderResultPane() {\n    if (this.state.reload) {\n      return null\n    }\n    return (\n      <div className=\"pane resultPane\">\n        <div className=\"paneHeader\"> <h2 >Result</h2></div>\n        <div className=\"paneContent resultPaneContent\">\n          <JsonToForm model={this.state.jsonToForm} onSubmit={this.submit} />\n        </div>\n      </div>\n    )\n  }\n\n  render() {\n    return (\n      <div className=\"page\">\n        {this.renderTitle()}\n        <div className='content'>\n          <div className=\"subcontent leftSubcontent\">\n            {this.renderVisualEditorPane()}\n            {this.renderTextEditorPane()}\n          </div>\n          <div className=\"subcontent rightSubcontent\">\n            {this.renderResultPane()}\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}